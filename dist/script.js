!function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){a(2),t.exports=a(1)},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=[{category:"everyday",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"breakfast",translation:"завтрак"},{word:"exercises",translation:"упражнения"},{word:"painting",translation:"рисование"},{word:"rope_jumping",translation:"прыгать на скакалке"},{word:"sleeping",translation:"сон"},{word:"studying",translation:"обучение"},{word:"teeth_cleaning",translation:"чистка зубов"},{word:"waking_up",translation:"пробуждение"},{word:"walking",translation:"прогулка"}]},{category:"emotions",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"angry",translation:"злой"},{word:"anxious",translation:"озабоченный"},{word:"bored",translation:"скучающий"},{word:"confident",translation:"уверенный"},{word:"disappointed",translation:"расстроенный"},{word:"frightened",translation:"испуганный"},{word:"guilty",translation:"виноватый"},{word:"happy",translation:"счастливый"},{word:"jealous",translation:"ревнивый"},{word:"sad",translation:"грустный"},{word:"satisfied",translation:"довольный"},{word:"surprised",translation:"удивленный"}]},{category:"animals",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"bat",translation:"летучая мышь"},{word:"bird",translation:"птица"},{word:"chicken",translation:"цыпленок"},{word:"cow",translation:"корова"},{word:"dog",translation:"собака"},{word:"duck",translation:"утка"},{word:"fox",translation:"лиса"},{word:"mouse",translation:"мышь"},{word:"owl",translation:"сова"},{word:"penguin",translation:"пингвин"},{word:"pig",translation:"свинья"},{word:"rabbit",translation:"кролик"}]},{category:"aquatic",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"beaver",translation:"бобёр"},{word:"crab",translation:"краб"},{word:"crocodile",translation:"крокодил"},{word:"fish",translation:"рыба"},{word:"frog",translation:"лягушка"},{word:"jellyfish",translation:"медуза"},{word:"octopus",translation:"осьминог"},{word:"shark",translation:"акула"},{word:"turtle",translation:"черепаха"},{word:"walrus",translation:"морж"},{word:"whale",translation:"кит"}]},{category:"clothes",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"coat",translation:"пальто"},{word:"jacket",translation:"куртка"},{word:"mittens",translation:"рукавицы"},{word:"pants",translation:"штаны"},{word:"scarf",translation:"шарф"},{word:"shirt",translation:"рубашка"},{word:"shorts",translation:"шорты"},{word:"skirt",translation:"юбка"},{word:"socks",translation:"носки"},{word:"sweater",translation:"свитер"},{word:"tshirt",translation:"футболка"}]},{category:"furniture",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"bed",translation:"кровать"},{word:"bookcase",translation:"книжный шкаф"},{word:"cabinet",translation:"шкаф"},{word:"chair",translation:"кресло"},{word:"table",translation:"стол"},{word:"commode",translation:"комод"},{word:"nightstand",translation:"тумбочка"},{word:"office_chair",translation:"офисный стул"},{word:"sofa",translation:"диван"},{word:"stool",translation:"стул"},{word:"wardrobe",translation:"гардероб"}]},{category:"plants",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"apple",translation:"яблоко"},{word:"banana",translation:"банан"},{word:"carrot",translation:"морковь"},{word:"cherry",translation:"вишня"},{word:"cucumber",translation:"огурец"},{word:"eggplant",translation:"баклажан"},{word:"kiwi",translation:"киви"},{word:"lemon",translation:"лимон"},{word:"onion",translation:"лук"},{word:"orange",translation:"апельсин"},{word:"peas",translation:"горох"},{word:"pepper",translation:"перец"},{word:"pineapple",translation:"ананас"},{word:"strawberry",translation:"клубника"},{word:"watermelon",translation:"арбуз"}]},{category:"toys",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"aeroplane",translation:"самолёт"},{word:"balloons",translation:"надувные шары"},{word:"boat",translation:"лодка"},{word:"doll",translation:"кукла"},{word:"drum",translation:"барабан"},{word:"kite",translation:"воздушный змей"},{word:"rocking_horse",translation:"лошадка-качалка"},{word:"spin_wheel",translation:"ветрянное колесо"},{word:"tricycle",translation:"трехколесный велосипед"}]},{category:"transport",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"bus",translation:"автобус"},{word:"car",translation:"машина"},{word:"evacuator",translation:"эвакуатор"},{word:"fire_truck",translation:"пожарная машина"},{word:"minibus",translation:"микроавтобус"},{word:"tipper",translation:"самосвал"},{word:"trolleybus",translation:"тролейбус"},{word:"truck_crane",translation:"автокран"},{word:"truck",translation:"грузовик"}]},{category:"wild",iconPath:"/assets/img/categories/",imgPath:"/assets/img/pictures/",cards:[{word:"behemoth",translation:"бегемот"},{word:"chipmunk",translation:"бурундук"},{word:"coala",translation:"коала"},{word:"deer",translation:"олень"},{word:"elephant",translation:"слон"},{word:"giraffe",translation:"жираф"},{word:"kangaroo",translation:"кенгуру"},{word:"lion",translation:"лев"},{word:"monkey",translation:"обезьяна"},{word:"panda",translation:"панда"},{word:"raccoon",translation:"енот"},{word:"rhino",translation:"носорог"},{word:"tiger",translation:"тигр"},{word:"zebra",translation:"зебра"}]}];function r(t,e){var a;t=document.createElement(e);for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(a=t.classList).add.apply(a,r),t}function o(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.nav=""}var e,a,n;return e=t,(a=[{key:"generateNav",value:function(t){var e=r(e,"ul","nav");return e.append(this.generateHomeItem()),(e=this.generateItems(e,t)).append(this.generateStatsItem()),e}},{key:"generateHomeItem",value:function(){var t=r(t,"li","nav__link");return t.dataset.section="category",t.innerHTML='<span class="nav_icon" style="background-image: url(\'/assets/img/icons/home.svg\');"></span>\n                    <span class="nav_content">homepage</span>',t}},{key:"generateStatsItem",value:function(){var t=r(t,"li","nav__link");return t.dataset.section="statistics",t.innerHTML='<span class="nav_icon" style="background-image: url(\'/assets/img/icons/stats.svg\');"></span>\n                    <span class="nav_content">statistics</span>',t}},{key:"generateItems",value:function(t,e){var a=this;return e.forEach((function(e){t.append(a.createLiElem(e))})),t}},{key:"createLiElem",value:function(t){var e=r(e,"li","nav__link");return e.dataset.section=t.category,e.innerHTML='<span class="nav_icon" style="background-image: url(\''.concat(t.iconPath).concat(t.category,'_contour.svg\');"></span>\n                    <span class="nav_content">').concat(t.category,"</span>"),e}},{key:"autoCloseNav",value:function(){document.querySelector("#toggleNav").checked=!1}},{key:"mountNav",value:function(){var t=this;this.nav.addEventListener("click",(function(e){t.autoCloseNav()}))}},{key:"createInstance",value:function(){return this.nav=this.generateNav(this.data),this.mountNav(),this.nav}}])&&o(e.prototype,a),n&&o(e,n),t}();function s(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.mode=a,this.category=""}var e,a,n;return e=t,(a=[{key:"makeCleanWord",value:function(t){return t.match(/_/g)?t.split("_").join(" "):t}},{key:"generateCategoryWrapper",value:function(){var t=r(t,"div","category__wrapper");return t}},{key:"generateCategory",value:function(t,e){var a=r(a,"div","category","category__".concat(e));a.dataset.section=t.category;var n=this.makeCleanWord(t.category);return a.innerHTML='<span class="category__logo category__logo_color"\n                            style="background-image: url(\''.concat(t.iconPath).concat(t.category,'_color.svg\');"></span>\n                          <span class="category__logo category__logo_grey"\n                            style="background-image: url(\'').concat(t.iconPath).concat(t.category,'_grey.svg\');"></span>\n                          <div class="category__title">').concat(n,"</div>"),a}},{key:"buildCategory",value:function(){var t=this.generateCategoryWrapper();t.append(this.generateCategory(this.data,this.mode)),this.category=t}},{key:"createInstance",value:function(){return this.buildCategory(),this.category}}])&&s(e.prototype,a),n&&s(e,n),t}();function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function d(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,a,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.obj=e,this.mode=a,this.classes=n,this.layout=""}var e,a,n;return e=t,(a=[{key:"generateLayout",value:function(t){var e=r.apply(void 0,[e,"div"].concat(l(t)));return e}},{key:"addCategoriesToLayout",value:function(t,e,a,n){e.forEach((function(e){t.append(new a(e,n).createInstance())}))}},{key:"buildLayout",value:function(){this.layout=this.generateLayout(this.classes),this.addCategoriesToLayout(this.layout,this.obj,c,this.mode)}},{key:"createInstance",value:function(){return this.buildLayout(),this.layout}}])&&d(e.prototype,a),n&&d(e,n),t}();function y(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.template="",this.stats=""}var e,a,n;return e=t,(a=[{key:"initTemplate",value:function(t){var e=this,a={};return t.forEach((function(t){a[t.category]=e.getWordsObject(t.cards)})),localStorage.setItem("englishStatsTemplate",JSON.stringify(a)),a}},{key:"getWordsObject",value:function(t){var e={};return t.forEach((function(t){e[t.word]={translate:t.translation,right:0,wrong:0,click:0}})),e}},{key:"getStats",value:function(){return JSON.parse(localStorage.getItem("englishStats"))}},{key:"updateStats",value:function(t,e,a){var n=this.stats,r=+n[t][e][a];n[t][e][a]=r+1;var o=JSON.stringify(n);localStorage.setItem("englishStats",o)}},{key:"clearStats",value:function(){localStorage.setItem("englishStats",JSON.stringify(this.template))}},{key:"createInstance",value:function(){this.template=this.initTemplate(this.data),void 0===localStorage.englishStats?(this.clearStats(),this.stats=this.template):this.stats=this.getStats()}}])&&y(e.prototype,a),n&&y(e,n),t}();function p(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return v(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function m(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stats="",this.statsInstance="",this.table="",this.title="",this.clearButton="",this.layout=""}var e,a,o;return e=t,(a=[{key:"initStats",value:function(){var t=new g(n);t.createInstance(),this.statsInstance=t,this.stats=t.getStats()}},{key:"generateLayout",value:function(){var t=r(t,"div","stats_layout");return t}},{key:"generateclearButton",value:function(){var t=r(t,"div","clear__wrapper"),e=r(e,"button","clear__button");return e.innerHTML="reset",this.clearButton=e,t.append(e),t}},{key:"generateTableWrapper",value:function(){var t=r(t,"div","table__wrapper");return t.append(this.generateTable()),t}},{key:"generateTable",value:function(){var t=r(t,"table","stats-table"),e=r(e,"caption","table__caption");return e.innerHTML="Statistics table",t.append(e),t.append(this.generateTitle()),t.append.apply(t,p(this.generateRows())),t}},{key:"generateTitle",value:function(){var t=r(t,"tr","table__title");return t.innerHTML='<th class="table-category arrow_up" data-sort="table-category">category</th>\n                    <th class="table-word arrow_up" data-sort="table-word">word</th>\n                    <th class="table-translation arrow_up" data-sort="table-translation">translation</th>\n                    <th class="table-right arrow_up" data-sort="table-right">right</th>\n                    <th class="table-wrong arrow_up" data-sort="table-wrong">wrong</th>\n                    <th class="table-click arrow_up" data-sort="table-click">click</th>',this.title=t,t}},{key:"generateRows",value:function(){var t=[],e=this.stats;for(var a in e){var n=a,o=e[a];for(var i in o){var s=r(s,"tr","table__row");s=this.makeRow(s,n),s=this.makeRow(s,i),s=this.makeTds(s,o[i]),t.push(s)}}return t}},{key:"makeRow",value:function(t,e){var a=document.createElement("td");return a.innerHTML=e,t.append(a),t}},{key:"makeTds",value:function(t,e){var a=t.innerHTML;return t.innerHTML="".concat(a,"\n                    <td>").concat(e.translate,"</td>\n                    <td>").concat(e.right,"</td>\n                    <td>").concat(e.wrong,"</td>\n                    <td>").concat(e.click,"</td>"),t}},{key:"buildStatsTable",value:function(){this.initStats();var t=this.generateLayout();return this.clearButton=this.generateclearButton(),t.append(this.clearButton),this.table=this.generateTable(),t.append(this.table),t}},{key:"createInstance",value:function(){var t=this;return this.layout=this.buildStatsTable(),this.clearButton.addEventListener("click",(function(e){t.resetStats()})),this.title.addEventListener("click",(function(e){t.handleSort(e)})),this.layout}},{key:"sortColumn",value:function(t){var e=this,a=document.querySelector(".stats-table"),n=JSON.parse(localStorage.getItem("englishSortDirection")),r=Array.from(a.rows).slice(1).sort((function(a,r){return e.compareTwoRows(a,r,t,n)}));a.append.apply(a,p(r)),localStorage.setItem("englishSortDirection",JSON.stringify(!n))}},{key:"compareTwoRows",value:function(t,e,a,n){return!0===n?t.cells[a].innerHTML>e.cells[a].innerHTML?1:-1:t.cells[a].innerHTML<e.cells[a].innerHTML?1:-1}},{key:"getColumnIndex",value:function(t){return document.querySelector(".".concat(t)).cellIndex}},{key:"handleSort",value:function(t){this.toggleArrows(t.target);var e=t.target.dataset.sort,a=this.getColumnIndex(e);this.sortColumn(a)}},{key:"toggleArrows",value:function(t){t.classList.toggle("arrow_up"),t.classList.toggle("arrow_down")}},{key:"resetStats",value:function(){var t=[];t.push(this.getColumnIndex("table-right")),t.push(this.getColumnIndex("table-wrong")),t.push(this.getColumnIndex("table-click")),this.clearColumn(t),this.statsInstance.clearStats()}},{key:"clearColumn",value:function(t){var e,a=document.querySelector(".stats-table"),n=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=f(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,o=!0,i=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw r}}}}(t);try{var r=function(){var t=e.value;Array.from(a.rows).slice(1).forEach((function(e){e.cells[t].innerHTML=0}))};for(n.s();!(e=n.n()).done;)r()}catch(t){n.e(t)}finally{n.f()}}}])&&m(e.prototype,a),o&&m(e,o),t}();function b(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _=function(){function t(e,a,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.category=r,this.imgPath=n,this.cardData=e,this.mode=a,this.card=""}var e,a,n;return e=t,(a=[{key:"makeCleanWord",value:function(t){return t.match(/_/g)?t.split("_").join(" "):t}},{key:"generateCard",value:function(t,e){var a=this.makeCleanWord(t),n=r(this.card,"div","card");return n.classList.add(e),n.setAttribute("data-action",a),n}},{key:"generateCardInner",value:function(){var t=r(t,"div","card__inner");return t}},{key:"generateFront",value:function(t,e,a){var n=this.makeCleanWord(e),o=r(o,"div","card__front");return o.setAttribute("style","background-image: url(".concat(a).concat(t,"/").concat(e,".png);")),o.innerHTML='<span class="card__icon card__sound-icon sound-icon_hidden"></span>\n                      <span class="card__icon card__rotate-icon"></span>\n                      <div class="card__title">'.concat(n,"</div>"),o}},{key:"generateBack",value:function(t,e,a,n){var o=r(o,"div","card__back");return o.setAttribute("style","background-image: url(".concat(n).concat(t,"/").concat(e,".png);")),o.innerHTML='<span class="card__icon card__rotate-icon"></span>\n                      <div class="card__title">'.concat(a,"</div>"),o}},{key:"generateGuessed",value:function(){var t=r(t,"div","card__guessed","hidden"),e=r(t,"span","guessed__icon");return t.append(e),t}},{key:"buildCard",value:function(){var t=this.cardData,e=this.generateCard(t.word,this.mode),a=this.generateCardInner(),n=this.generateGuessed();a.append(this.generateFront(this.category,t.word,this.imgPath)),a.append(this.generateBack(this.category,t.word,t.translation,this.imgPath)),a.append(n),e.append(a),this.card=e}},{key:"createInstance",value:function(){return this.buildCard(),this.card}}])&&b(e.prototype,a),n&&b(e,n),t}();function k(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mode=a,this.obj=e,this.rate=""}var e,a,n;return e=t,(a=[{key:"generateLayout",value:function(){var t=r(t,"div","rate");return"play_mode"!==this.mode&&t.classList.add("invisible","hidden"),t}},{key:"generateRateRank",value:function(){var t=r(t,"form","rate__rank");return t.setAttribute("id","playmode"),t}},{key:"generateRateScore",value:function(t){var e=r(e,"div","rate__score"),a=t.cards.length;return e.append(this.generateRatePoint("success")),e.append(this.generateRatePoint("error")),e.append(this.generateRatePoint("total",a)),e}},{key:"generateRatePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=r(a,"div","rate__point");return a.innerHTML='<label class="rate__label rate-status_'.concat(t,'" for="playmode-').concat(t,'"></label>\n                      <input class="rate__indicator" type="text" name="').concat(t,'" id="playmode-').concat(t,'" disabled value="').concat(e,'">'),a}},{key:"generateButtonWrapper",value:function(){var t=r(t,"div","playmode-button__wrapper");return t}},{key:"generatePlayButton",value:function(){var t=r(t,"div","playmode-button");return t.innerHTML='<span class="playmode-button__play"></span>\n                        <span class="playmode-button__repeat invisible"></span>',t}},{key:"buildButton",value:function(){var t=this.generateButtonWrapper();return t.append(this.generatePlayButton()),t}},{key:"buildRate",value:function(){var t=this.generateLayout(),e=this.generateRateRank();e.append(this.generateRateScore(this.obj)),e.append(this.buildButton()),t.append(e),this.rate=t}},{key:"createInstance",value:function(){return this.buildRate(),this.rate}}])&&k(e.prototype,a),n&&k(e,n),t}();function L(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return I(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function T(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var C=function(){function t(e,a,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.obj=e,this.mode=a,this.classes=n,this.ratesLayout="",this.cardsLayout="",this.layout=""}var e,a,n;return e=t,(a=[{key:"generateWrapper",value:function(){var t=r.apply(void 0,[t,"div"].concat(["cards-category__layout"]));return t}},{key:"generateCardsLayout",value:function(t){var e=r.apply(void 0,[e,"div"].concat(L(t)));return e}},{key:"generateRatesLayout",value:function(t,e){return this.rate=new S(t,e).createInstance(),this.rate}},{key:"addCardsToLayout",value:function(t,e,a,n){var r=e.cards,o=e.imgPath,i=e.category;r.forEach((function(e){t.append(new a(e,n,o,i).createInstance())}))}},{key:"buildLayout",value:function(){var t=this.generateWrapper();this.ratesLayout=this.generateRatesLayout(this.obj,this.mode),t.append(this.ratesLayout),this.cardsLayout=this.generateCardsLayout(this.classes),this.addCardsToLayout(this.cardsLayout,this.obj,_,this.mode),t.append(this.cardsLayout),this.layout=t}},{key:"createInstance",value:function(){return this.buildLayout(),this.layout}}])&&T(e.prototype,a),n&&T(e,n),t}();function P(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var j=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.layout=""}var e,a,n;return e=t,(a=[{key:"makeCleanWord",value:function(t){return t.match(/_/g)?t.split("_").join(" "):t}},{key:"generateBreadcrumsWrapper",value:function(){var t=r(t,"div","header__breadcrumbs");return t}},{key:"generateLayout",value:function(){var t=r(t,"div","breadcrumbs__layout");return t}},{key:"generateBreadcrums",value:function(t){var e=r(e,"div","breadcrumbs__item");e.dataset.breadcrumbs=t.category;var a=this.makeCleanWord(t.category);return e.innerHTML='<span class="breadcrumbs__logo"\n                              style="background-image: url(\''.concat(t.iconPath).concat(t.category,'_color.svg\');"></span>\n                            <div class="breadcrumbs__title">').concat(a,"</div>"),e}},{key:"buildBreadcrums",value:function(){var t=this.generateLayout(),e=this.generateBreadcrumsWrapper();e.append(this.generateBreadcrums(this.data)),t.append(e),this.layout=t}},{key:"createInstance",value:function(){return this.buildBreadcrums(),this.layout}}])&&P(e.prototype,a),n&&P(e,n),t}();function O(t,e,a,n,r){if(!(null==e||e.length<1)){var o=document.querySelector(t),i=Array.from(o.children);return o&&i?(setTimeout((function(){!function(t,e,a){(function(t,e){return t.forEach((function(t){t.classList.add(e)})),!0})(t,a)&&setTimeout((function(){!function(t){t.forEach((function(t){t.remove()}))}(t)}),e)}(i,n,r)}),0),setTimeout((function(){!function(t,e,a,n){(function(t,e,a){return e.classList.add(a),t.append(e),!0})(t,e,n)&&setTimeout((function(){!function(t,e){t.classList.remove(e)}(e,n)}),a)}(o,e,n,r)}),n)):s("No target element or content!"),!0}function s(t){console.error(t)}s("No new content!")}var E=window.speechSynthesis,A=[];function M(){A=E.getVoices()}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(E.speaking)console.error("speechSynthesis.speaking"),E.cancel(),setTimeout(q,100);else{var n=new SpeechSynthesisUtterance(t);n.onerror=function(t){console.error("SpeechSynthesisUtterance.onerror")};for(var r=0;r<A.length;r++)"en-GB"!==A[r].lang&&"en-US"!==A[r].name||(n.voice=A[r]);n.onpause=function(t){var e=t.utterance.text.charAt(t.charIndex);console.log("Speech paused at character "+t.charIndex+' of "'+t.utterance.text+'", which is "'+e+'".')},n.pitch=e,n.rate=a,E.speak(n)}}window.onbeforeunload=function(){E.cancel()},M(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=M);var R=new g(n);function W(t){var e,a;t.target.classList.contains("card__rotate-icon")?(e=t.target,(a=e.closest(".card__inner")).classList.toggle("translate"),a.onmouseleave=function(){a.classList.remove("translate"),a.onmouseleave=null}):function(t){var e=t.closest(".card").dataset.action;q(e),function(t,e){var a=localStorage.getItem("englishCategory");R.updateStats(a,t,e)}(e,"click")}(t.target)}function B(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}R.createInstance();var x=function(){function t(e,a,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.successScore=a,this.errorScore=n,this.layout=""}var e,a,n;return e=t,(a=[{key:"generateOverlay",value:function(){var t=r.apply(void 0,[t,"div"].concat(["results","hide_results"]));return t}},{key:"generateWrapper",value:function(){var t=r.apply(void 0,[t,"div"].concat(["info__wrapper"]));return t}},{key:"generateTitle",value:function(){var t=r.apply(void 0,[t,"div"].concat(["info__title"])),e="success"===this.type?"Congratulations, you won":"You had errors, try again";return t.innerHTML=e,t}},{key:"generateDescription",value:function(){var t=r.apply(void 0,[t,"div"].concat(["info__description"]));return t.innerHTML="<span>You guessed 15 pictures, and made 0 errors</span>",t}},{key:"generateImage",value:function(){var t=r.apply(void 0,[t,"div"].concat(["info__image"]));return t.style="background-image: url(/assets/img/playmode/".concat("success"===this.type?"win":"fail",".png);"),t}},{key:"buildLayout",value:function(){var t=this.generateOverlay(),e=this.generateWrapper();e.append(this.generateTitle()),e.append(this.generateDescription()),e.append(this.generateImage()),t.append(e),this.layout=t}},{key:"createInstance",value:function(){return this.buildLayout(),this.layout}},{key:"showInstance",value:function(){this.layout.classList.remove("hide_results")}},{key:"hideInstance",value:function(){this.layout.classList.add("hide_results")}}])&&B(e.prototype,a),n&&B(e,n),t}();function H(t){var e=new Audio(t);e.autoplay=!0,e.onended=function(){e.remove()}}function N(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var G=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.words="",this.order="",this.currenIndex=0,this.elemSuccess="",this.elemError="",this.elemTotal="",this.elemPlayButton="",this.elemRepeatButton="",this.elemsGuessedCards=[],this.isSpeaking=!1,this.currentWord="",this.stats=""}var e,a,r;return e=t,(a=[{key:"createInstance",value:function(){this.words=this.prepareCards(),this.order=this.initOrder(),this.initElements(),this.changeIcons(),this.newGameStep(),this.stats=new g(n),this.stats.createInstance()}},{key:"initOrder",value:function(){return function(t){for(var e,a,n=[],r=0;r<t.length;r++)n.push(r);for(var o=n.length-1;o>0;o--)a=n[e=Math.floor(Math.random()*(o+1))],n[e]=n[o],n[o]=a;return n}(this.words)}},{key:"initElements",value:function(){this.elemSuccess=document.querySelector("#playmode-success"),this.elemError=document.querySelector("#playmode-error"),this.elemTotal=document.querySelector("#playmode-total"),this.elemPlayButton=document.querySelector(".playmode-button__play"),this.elemRepeatButton=document.querySelector(".playmode-button__repeat")}},{key:"prepareCards",value:function(){return Array.from(document.querySelectorAll(".card")).map((function(t){return t.dataset.action}))}},{key:"sayWord",value:function(t){var e=this;return this.isSpeaking=!0,setTimeout((function(){q(t)}),300),setTimeout((function(){e.isSpeaking=!1}),300),t}},{key:"repeatWord",value:function(){this.sayWord(this.currentWord)}},{key:"newGameStep",value:function(){var t=this.order[this.currenIndex];this.currentWord=this.sayWord(this.words[t])}},{key:"markRightAnswer",value:function(t){var e=t.querySelector(".card__guessed");this.elemsGuessedCards.push(e),e.classList.remove("hidden")}},{key:"sendStats",value:function(t,e){var a=localStorage.getItem("englishCategory");this.stats.updateStats(a,t,e)}},{key:"handleGuess",value:function(t){var e=t.dataset.action;this.currentWord===e?(this.sendStats(e,"right"),this.rightGuess(t)):(this.sendStats(e,"wrong"),this.wrongGuess())}},{key:"rightGuess",value:function(t){var e=this;this.markRightAnswer(t),this.currenIndex<this.words.length-1?(H("assets/audio/success.mp3"),this.currenIndex++,this.changeValue("total"),this.changeValue("success"),setTimeout((function(){e.newGameStep()}),500)):this.endOfGame()}},{key:"wrongGuess",value:function(){this.changeValue("error"),H("assets/audio/error.mp3")}},{key:"endOfGame",value:function(){var t=this.elemSuccess.value,e=this.elemError.value;this.changeIcons(),0==+e?(H("assets/audio/win.mp3"),this.showrResults("success",t,e)):(H("assets/audio/lose.mp3"),this.showrResults("errors",t,e)),this.isPlaying=!1}},{key:"showrResults",value:function(t,e,a){var n=new x(t,e,a),r=n.createInstance();document.body.append(r),setTimeout((function(){n.showInstance()}),0),document.querySelector("#toggleMode").checked=!1,localStorage.isPlaying=JSON.stringify(!1),localStorage.setItem("englishMode","train_mode"),U("category"),setTimeout((function(){n.hideInstance()}),2e3)}},{key:"changeValue",value:function(t){var e="elem".concat(t.charAt(0).toUpperCase()+t.slice(1)),a=+this[e].value;this[e].value="total"===t?a-1:a+1}},{key:"changeIcons",value:function(){this.elemPlayButton.classList.toggle("invisible"),this.elemRepeatButton.classList.toggle("invisible")}},{key:"clearCards",value:function(){this.elemsGuessedCards.forEach((function(t){t.classList.contains("hidden")||t.classList.add("hidden")}))}}])&&N(e.prototype,a),r&&N(e,r),t}(),J=null;function D(t){if(e(t,"playmode-button__play")||e(t,"playmode-button__repeat"))return JSON.parse(localStorage.isPlaying)?void J.repeatWord():((J=new G).createInstance(),void(localStorage.isPlaying=JSON.stringify(!0)));function e(t,e){return t.target.classList.contains(e)}(e(t,"card__front")||e(t,"card"))&&J.handleGuess(t.target.closest(".card"))}function U(t){var e,a,o,i=!0!==document.querySelector("#toggleMode").checked?"train_mode":"play_mode";function s(){!0,setTimeout((function(){!1}),500)}"category"!==t&&"statistics"!==t?(!function(t,e,a,n,r,o){var i=function(t,e){return t.find((function(t){return t.category===e}))}(t,e),c=new C(i,a,r).createInstance(),l="train_mode"===a?W:D;c.addEventListener("click",l);var u=new j(i).createInstance();O("#content-container .wrapper",c,0,o,"disappear"),O(".breadcrumbs__wrapper",u,0,o,"invisible"),s()}(n,t,i,0,["layout-4-column","content__wrapper"],500),localStorage.setItem("englishCategory",t)):"statistics"===t?(e=500,a=(new w).createInstance(),(o=r(o,"div","breadcrumbs__layout")).innerHTML="<div></div",O("#content-container .wrapper",a,0,e,"disappear"),O(".breadcrumbs__wrapper",o,0,e,"invisible"),s()):function(t,e,a,n,o){var i=new h(t,e,n).createInstance();i.addEventListener("click",V);var c=r(c,"div","breadcrumbs__layout");c.innerHTML="<div></div",O("#content-container .wrapper",i,0,o,"disappear"),O(".breadcrumbs__wrapper",c,0,o,"invisible"),s()}(n,t,0,["layout-inline-flex"],500)}function V(t){U((t.target.closest(".nav__link")||t.target.closest(".category ")).dataset.section)}function $(){var t=null,e=null,a=null;!function(){t=localStorage.englishMode;var e=null;"train_mode"===t?e="play_mode":(localStorage.isPlaying=JSON.stringify(!1),document.querySelectorAll(".card__guessed").forEach((function(t){t.classList.contains("hidden")||t.classList.add("hidden")})),a=document.querySelectorAll(".card"),document.querySelector("#playmode-success").value=0,document.querySelector("#playmode-error").value=0,document.querySelector("#playmode-total").value=a.length,document.querySelector(".playmode-button__play").classList.toggle("invisible"),document.querySelector(".playmode-button__repeat").classList.toggle("invisible"),e="train_mode");var a;localStorage.setItem("englishMode",e)}(),null!==document.querySelector(".cards-category__layout")&&(function(){var t=document.querySelector(".rate");t&&(t.classList.toggle("invisible"),t.classList.toggle("hidden"));document.querySelectorAll(".card").forEach((function(t){t.classList.toggle("play_mode"),t.classList.toggle("train_mode")}))}(),function(){"train_mode"===t?(e=D,a=W):(e=W,a=D);var n=document.querySelector(".cards-category__layout");n.removeEventListener("click",a),n.addEventListener("click",e)}())}var F=["layout-inline-flex"];window.onload=function(){var t=document.querySelector("#content-container .wrapper"),e=document.querySelector("#main-nav"),a=this.document.querySelector("#toggleMode"),r=new i(n);e.append(r.createInstance()),e.addEventListener("click",V);var o=new h(n,"train_mode",F).createInstance();t.append(o),o.addEventListener("click",V),a.addEventListener("click",(function(){$()})),localStorage.setItem("englishMode","train_mode"),localStorage.setItem("isPlaying",!1),localStorage.setItem("englishCategory",""),localStorage.setItem("englishSortDirection",JSON.stringify(!0)),new g(n).createInstance()}}]);